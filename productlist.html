<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="user-scalable=no,initial-scale=1,width=device-width" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script type="text/javascript" src="js/dave.js"></script>
    <title>HomeCenter</title>
</head>

<body>
    <!-- --------------- navbar ----------- -->
    <nav>
        <div class="topnav">
            <div class="logo">
                <img src="./images/logo-homecentre.svg" alt="">
            </div>
            <div class="search-container">
                <form action="">
                    <input type="text" name="search" placeholder="Search..">
                    <button type="submit"><i class="fa fa-search"></i></button>
                </form>
            </div>
            <a href="#">
                <p>Enquiry List <i style="font-size:24px" class="fa" id="shopping-bag">&#xf290;</i></p>
            </a>
        </div>
    </nav>
    <hr>
    <!-------------------------------PRODUCT LIST AREA--------------------------------------->
        <div class="pg_container">
        <div class="price_filter">
            <p>Filters</p>
            <form action="">
                <div class="selectdiv ">
                <label for="Price">
                <select name="Price" id="pricesortlist" class="pricedropdown">
                    <option value="" disabled selected hidden>Price</option>
                    <option value="0 - 1000">0 - 1000</option>
                    <option value="1000 - 2000">1000 - 2000</option>
                    <option value="2000 - 3000">2000 - 3000</option>
                    <option value="3000 - 4000">3000 - 4000</option>
                </select>
                </label>
                </div>
                    <p class="clear">Clear all filters</p>
            </form>
        </div>
        <hr id="hr">
        <div class="product_cont">
            <!-- PRODUCT QUICK VIEW POPUP -->
            <div class="product_pop_bg">
            </div>
                <div class="sec_pg_cont" id="quickview">
                    <ul class="sec_pg_cont_ul">
                        <li class="sec_pg_ul_li">
                            <ol class="sec_pg_ol">
                                <li class="sec_pg_img_li"><div><img id="imgBox" class="sec_pg_img" src="./images/prod1.jpg" alt=""></div></li>
                                <li class="sec_pg_img_li">
                                    <ul class="sec_pg_img_ul">
                                        
                                    </ul>
                                </li>
                            </ol>
                        </li>
                        <li class="sec_pg_ul_li det-l2">
                            <ol class="sec_pg_ol">
                                <li class="sec_pg_ol_li1"><p id="prod_pg_pop_tit">Dummy Title</p></li>
                                <li class="sec_pg_ol_li2"><p id="prod_pg_pop_price">$ 000</p></li>
                                <li class="sec_pg_ol_li3">
                                    <ul>
                                        <li><input class="sec_pg_ol_input" type="text" placeholder="Qty"></li>
                                        <li><p>In Stock</p></li>
                                    </ul>
                                </li>
                                <hr class="pr_detail_hr">
                                <li class="sec_pg_ol_li4"><button class="pr_detail_btn">Add to Enquiry List</button></li>
                                <hr class="pr_detail_hr">
                                <li class="sec_pg_ol_li5"><a href="">See Full Details</a></li>
                            </ol>
                        </li>
                        <li><span class="close" id="closepopup">&times;</span></li>
                    </ul>
                </div>            
            <!--PRODUCT LIST -->
            <ul class="product_cont_ul">

            </ul>
        </div>
        </div>
            <!-- ------------------------ 2nd strip section --------------- -->
    <section class="container">
        <footer>
            <hr>
            <div class="firstfoot-left">
                <div class="firstfoot_in_cont">
                    <a href="#">
                        <div class="details">
                            <div class="icon">
                                <i class="fa fa-phone"></i>
                            </div>
                            <span class="txt">
                                <p class="uptxt">Talk to us</p>
                                <p class='lowtxt'>1800-212-7500</p>
                            </span>
                        </div>
                    </a>
                    <a href="#">
                        <div class="details">
                            <div class="icon">
                                <i class="fa fa-question-circle" ></i>
                            </div>
                            <div class="txt">
                                <p class="uptxt">HomeCentre</p>
                                <p class='lowtxt'>homecentre.in/help</p>
                            </div>
                        </div>
                    </a>
                    <a href="#">
                        <div class="details">
                            <div class="icon">
                                <i class="fa fa-envelope"></i>
                            </div>
                            <div class="txt">
                                <p class="uptxt">Write to us</p>
                                <p class='lowtxt'>help@homecentre.in</p>
                            </div>
                        </div>
                    </a>
                </div>
                <!-- ---- social media icons  ---- -->
                <div class="social-icon">
                    <div class="details">
                        <div class="social">
                            <a href="#" class="fa fa-facebook"></a>
                        </div>
                    </div>
                    <div class="details">
                        <div class="social">
                            <a href="#" class="fa fa-twitter"></a>
                        </div>
                    </div>
                    <div class="details">
                        <div class="social" #insta>
                            <a href="#" class="fa fa-instagram"></a>
                        </div>
                    </div>
                </div>
            </div>
            <!-- ---------------------------- footer --------------------- -->
            <hr>
            <div class="Mainfooter">
                <div class="firstfoot1">
                    <a href=""><img src="./images/logo.png" alt="Logo"></a>
                </div>
                <div class="txt-foot">
                    <p>&#9400; 2020 RNA Intellectual Property Limited.</p>
                    <p>TERMS & CONDITION - Privacy Policy</p>
                </div>
            </div>
        </footer>
    </section>
    <script type="text/javascript">
        //##############################################

        get_products({"page_size":10, "page_number":1},function(data){
            var return_size = data['data'].length;
            for(var i = 0; i < return_size; i++){
                $(".product_cont_ul").append(`
                    <li class="product_cont_ul_li" data-pid="${data['data'][i]['product_id']}">
                        <ol class="product_solo_cont">
                            <li>
                                <div class="img_container">
                                    <img class="product_img" src="${data['data'][i]['image_1']}" alt="">
                                    <button class="btn-2">Quick View</button>
                                </div>
                            </li>
                            <li>
                                <div class="small_img_container"><img class="small_img" src="${data['data'][i]['image_1']}" alt=""></div>
                            </li>
                            <li>
                                <h4 class="product_price">${data['data'][i]['selling_price']}</h4>
                            </li>
                            <li>
                                <h4 class="product_heading">${data['data'][i]['name']}</h4>
                            </li>
                        </ol>
                    </li>
                `);                                   
            }
        });
        /*PRODUCT Page Price Sorting*/
            $("#pricesortlist").on("change", function () {
                var sort_price = $(this).find(":selected").val();
                sort_price = sort_price.replace("-",",");
                sort_price = sort_price.split(" ").join("");
                get_products({"price":sort_price,"page_size":10, "page_number":1}, function(data){
                    var return_size = data['data'].length;
                    $(".product_cont_ul").html("");
                    for(var i = 0; i < return_size; i++){
                            $(".product_cont_ul").append(`
                            <li class="product_cont_ul_li" data-pid="${data['data'][i]['product_id']}">
                                <ol class="product_solo_cont">
                                    <li>
                                        <div class="img_container">
                                            <img class="product_img" src="${data['data'][i]['image_1']}" alt="">
                                            <button class="btn-2">Quick View</button>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="small_img_container"><img class="small_img" src="${data['data'][i]['image_1']}" alt=""></div>
                                    </li>
                                    <li>
                                        <h4 class="product_price">${data['data'][i]['selling_price']}</h4>
                                    </li>
                                    <li>
                                        <h4 class="product_heading">${data['data'][i]['name']}</h4>
                                    </li>
                                </ol>
                            </li>
                        `);
                    }
                });
            });
        /*PRODUCT Page Price Sort Selection Clear*/
            $(".clear").on("click", function(){
                var check = $("#pricesortlist").prop("selected",false);
                console.log($(this).find(":selected").text()+"cleared");
            })
        /*PRODUCT POPUP*/
            $(document.body).on("click", '.product_cont_ul_li', function(){
                var pid = $(this).attr("data-pid");
                var pro_price = $(this).find(".product_price").text();
                var pro_title = $(this).find(".product_heading").text();
                var pro_image = $(this).find(".product_img").attr("src");

                $(".product_pop_bg").css("display", "block");
                $(".sec_pg_cont").css("display", "block");
                $('body').css("overflow","hidden");

                $("#prod_pg_pop_tit").text(pro_title);
                $("#prod_pg_pop_price").text(`$ ${pro_price}`);
                $("#imgBox").attr("src", pro_image);

                ajaxRequestWithData(`/object/product/${pid}`,"GET",{},function(data){
                    $('.sec_pg_img_ul').html(`
                        <li><div class="product_popup_smallimg_container"><img class="sec_pg_small_img" src="${data["image_1"]}" alt=""></div></li>
                        <li><div class="product_popup_smallimg_container"><img class="sec_pg_small_img" src="${data["image_2"]}" alt=""></div></li>
                        <li><div class="product_popup_smallimg_container"><img class="sec_pg_small_img" src="${data["image_3"]}" alt=""></div></li>
                        <li><div class="product_popup_smallimg_container"><img class="sec_pg_small_img" src="${data["image_4"]}" alt=""></div></li>
                        <li><div class="product_popup_smallimg_container"><img class="sec_pg_small_img" src="${data["image_5"]}" alt=""></div></li>
                    `);
                });
            })
        //PRODUCT POUP CLOSE
            $("#closepopup, .product_pop_bg").on("click", function(){
                $(".product_pop_bg").css("display","none");
                $(".sec_pg_cont").css("display", "none");
                $("body").css("overflow","auto");
            })
        /*PRODUCT POPUP Image Toogle*/
            $(document.body).on("click", '.product_popup_smallimg_container', function(){
               $("#imgBox").attr('src', $(this).children("img").attr("src"));
            });

    </script>
</body>

</html>